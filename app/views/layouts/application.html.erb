<!DOCTYPE html>
<html>
  <head>
    <title>Theresa</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head>

  <body>
    <nav class="navbar sticky-top navbar-light bg-light">
      <div class="container-fluid" id="navbar">
        <div class="navbar-header">
          <a class="navbar-brand" href="/">Theresa</a>
        </div>
        <ul class="nav navbar-nav">
          <li class="active"><a href="/">
            <img src="https://i.imgur.com/irwwIuI.png" width="20" height="20" alt="">
          </a></li>
          <li><a href="/walks/new">Create walk</a></li>
          <li><a href="/trips/new">Create trip</a></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <% if  session[:user_id] == nil %>
        <%= session[:user_id] %>
          <li><a href="<%= new_user_path %>"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
          <li><a href="/login"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
        <% else %>
          <li><a href="/mytrips"><span class="glyphicon glyphicon-star"></span> My Trips</a></li>
          <li><a href="/logout"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
        <% end %>
        </ul>
      </div>
    </nav>
    <%= yield %>

    <footer class="footer">
      <div class="container">
        <span class="text-muted">made with love by dreamdreamteamteam</span>
      </div>
    </footer>

    <script>
      // When the user scrolls the page, execute myFunction
      window.onscroll = function() {myFunction()};

      // Get the navbar
      var navbar = document.getElementById("navbar");

      // Get the offset position of the navbar
      var sticky = navbar.offsetTop;

      // Add the sticky class to the navbar when you reach its scroll position. Remove "sticky" when you leave the scroll position
      function myFunction() {
        if (window.pageYOffset >= sticky) {
          navbar.classList.add("sticky")
        } else {
          navbar.classList.remove("sticky");
        }
      }
    </script>
  </body>
</html>
